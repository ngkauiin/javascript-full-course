<!DOCTYPE html>
<html>
  <head>
    <title>App</title>
  </head>
  <body>
    <button onclick="
      totalMessage++;
      displayNotification();
    ">Add message</button>
    <button onclick="
      removeMessage();
    ">Remove message</button>


    <script>
      let totalMessage = 0;
      let intervalId;
      let isDisplayNotification = false;

      function displayNotification() {
        if (isDisplayNotification) {
          return;
        }

        isDisplayNotification = true;

        intervalId = setInterval(()=> {
          if (document.title === 'App' && totalMessage > 0) {
            document.title = `(${totalMessage}) New messages`;
          } else {
            document.title = 'App';
          }
        },1000)
      }

      function removeMessage() {
        if (totalMessage) {
          totalMessage--;
        } else {
          stopNotification()
        }
        console.log(totalMessage);
      }

      function stopNotification() {
        clearInterval(intervalId);
        isDisplayNotification = false;
        document.title = 'App';
      }
    </script>
  </body>
</html>